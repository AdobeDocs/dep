"use strict";(self.webpackChunkdep=self.webpackChunkdep||[]).push([[48],{17031:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return d},default:function(){return b}});var n,i=a(87462),o=a(63366),p=(a(15007),a(64983)),s=a(91515),r=["components"],d={},c=(n="InlineAlert",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,p.mdx)("div",e)}),m={_frontmatter:d},l=s.Z;function b(e){var t=e.components,a=(0,o.Z)(e,r);return(0,p.mdx)(l,(0,i.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,p.mdx)("h2",{id:"a-brief-introduction-to-jwt-service-account-authentication"},"A Brief Introduction to JWT (Service Account) Authentication"),(0,p.mdx)("p",null,"To establish a secure service-to-service Adobe API session, you must create a JSON Web Token (JWT) that encapsulates the identity of your developer project integration, and then exchange it for an access token. Every request to an Adobe service must include the access token in the Authorization header, along with the API Key (Client ID) that was generated when you created the Service Account Integration in the Adobe Developer Console."),(0,p.mdx)("h3",{id:"creating-a-json-web-token"},"Creating a JSON Web Token"),(0,p.mdx)("p",null,"A JSON Web Token for Service Account authentication requires a particular set of claims and must be signed using a valid digital signing certificate. Your JWT must contain the following claims (all of which you learn more about ",(0,p.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/developer-console/docs/guides/authentication/JWT/"},"here"),")"),(0,p.mdx)("br",null),(0,p.mdx)("br",null),(0,p.mdx)("table",null,(0,p.mdx)("thead",{parentName:"table"},(0,p.mdx)("tr",{parentName:"thead"},(0,p.mdx)("th",{parentName:"tr",align:null},"Claim"),(0,p.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,p.mdx)("tbody",{parentName:"table"},(0,p.mdx)("tr",{parentName:"tbody"},(0,p.mdx)("td",{parentName:"tr",align:null},"exp"),(0,p.mdx)("td",{parentName:"tr",align:null},"Required. The expiration parameter is a required parameter measuring the absolute time since 01/01/1970 GMT. You must ensure that the expiration time is later than the time of issue. After this time, the JWT is no longer valid. Recommendation: Have a very short lived token (a few minutes) - such that it expires soon after it has been exchanged for an IMS access token. Every time a new access token is required, one such JWT is signed and exchanged. This is secure approach. Longer lived tokens that are re-used to obtain access tokens as needed are not recommended.")),(0,p.mdx)("tr",{parentName:"tbody"},(0,p.mdx)("td",{parentName:"tr",align:null},"iss"),(0,p.mdx)("td",{parentName:"tr",align:null},"Required. The issuer, your Organization ID from the Adobe Developer Console integration, in the format org_ident@AdobeOrg. Identifies your organization that has been configured for access to the Adobe I/O API.")),(0,p.mdx)("tr",{parentName:"tbody"},(0,p.mdx)("td",{parentName:"tr",align:null},"sub"),(0,p.mdx)("td",{parentName:"tr",align:null},"Required. The subject, your Technical Account ID from the Adobe Developer Console integration, in the format: ",(0,p.mdx)("a",{parentName:"td",href:"mailto:id@techacct.adobe.com"},"id@techacct.adobe.com"),".")),(0,p.mdx)("tr",{parentName:"tbody"},(0,p.mdx)("td",{parentName:"tr",align:null},"aud"),(0,p.mdx)("td",{parentName:"tr",align:null},"Required. The audience for the token, your API Key from the Adobe Developer Console integration, in the format: ",(0,p.mdx)("a",{parentName:"td",href:"https://ims-na1.adobelogin.com/c/api_key"},"https://ims-na1.adobelogin.com/c/api_key"),".")),(0,p.mdx)("tr",{parentName:"tbody"},(0,p.mdx)("td",{parentName:"tr",align:null},"Metascopes"),(0,p.mdx)("td",{parentName:"tr",align:null},'Required. The API-access claim configured for your organization: JWT Metascopes, in the format: "',(0,p.mdx)("a",{parentName:"td",href:"https://ims-na1.adobelogin.com/s/meta_scope%22"},'https://ims-na1.adobelogin.com/s/meta_scope"'),": true")))),(0,p.mdx)("h3",{id:"bootstrapping-the-authentication-process"},"Bootstrapping the authentication process"),(0,p.mdx)("p",null,"To be able to authenticate, Adobe has developed a collection that locally signs the JWT on your machine and then passes that JWT in the call to Adobe's Identity Management Service (IMS) to authenticate. To locally sign the JWT a crypto JavaScript library is loaded as part of a pre-request script in the Postman request. This script uses the “RSA-Sign JavaScript Library” and creates a Global Postman environment variable (which persists even if you close Postman, nice!)."),(0,p.mdx)("p",null,"The response from the request to Adobe's IMS will always respond with the following upon a successful call"),(0,p.mdx)("h4",{id:"success"},"Success"),(0,p.mdx)("pre",null,(0,p.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "token_type": "bearer",\n    "access_token": "<value>",\n    "expires_in": 86399979\n}\n')),(0,p.mdx)(c,{variant:"help",slots:"text",mdxType:"InlineAlert"}),(0,p.mdx)("p",null,"A common error that is often encountered when making the call is due to a poorly copied ",(0,p.mdx)("inlineCode",{parentName:"p"},"PRIVATE_KEY"),". Be sure that when you copy/paste your private key into the Postman environment variable values that you include the full text of the private key including the header (-----BEGIN RSA PRIVATE KEY------) and footer."),(0,p.mdx)("h2",{id:"get-the-identity-management-service-collection"},"Get the Identity Management Service Collection"),(0,p.mdx)("ol",null,(0,p.mdx)("li",{parentName:"ol"},(0,p.mdx)("p",{parentName:"li"},"Navigate to the Experience Platform Postman Samples Github repository to get the Identity Management Service Postman collection located ",(0,p.mdx)("a",{parentName:"p",href:"https://github.com/adobe/experience-platform-postman-samples/blob/master/apis/ims/Identity%20Management%20Service.postman_collection.json"},"here"),". Copy the raw contents as show below"),(0,p.mdx)("p",{parentName:"li"},(0,p.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1264px"}},"\n      ",(0,p.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"32.8125%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,p.mdx)("picture",{parentName:"span"},"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/dep/static/bc520654f20d750965af269c1cd1be7d/5530d/ims-copy-raw.webp 320w","/dep/static/bc520654f20d750965af269c1cd1be7d/0c8fb/ims-copy-raw.webp 640w","/dep/static/bc520654f20d750965af269c1cd1be7d/1433b/ims-copy-raw.webp 1264w"],sizes:"(max-width: 1264px) 100vw, 1264px",type:"image/webp"}),"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/dep/static/bc520654f20d750965af269c1cd1be7d/dd4a7/ims-copy-raw.png 320w","/dep/static/bc520654f20d750965af269c1cd1be7d/0f09e/ims-copy-raw.png 640w","/dep/static/bc520654f20d750965af269c1cd1be7d/f6c2e/ims-copy-raw.png 1264w"],sizes:"(max-width: 1264px) 100vw, 1264px",type:"image/png"}),"\n          ",(0,p.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/dep/static/bc520654f20d750965af269c1cd1be7d/f6c2e/ims-copy-raw.png",alt:"Copy Raw Text",title:"Copy Raw Text",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")))),(0,p.mdx)("br",null),(0,p.mdx)("h2",{id:"import-the-collection"},"Import the Collection"),(0,p.mdx)("ol",null,(0,p.mdx)("li",{parentName:"ol"},(0,p.mdx)("p",{parentName:"li"},"Open the Postman application and in the sidebar click on the ",(0,p.mdx)("inlineCode",{parentName:"p"},"Import")," button"),(0,p.mdx)("p",{parentName:"li"},(0,p.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,p.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"65.3125%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,p.mdx)("picture",{parentName:"span"},"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/dep/static/58cdcc427f5d3e744a1836b23b306084/5530d/import-btn-env.webp 320w","/dep/static/58cdcc427f5d3e744a1836b23b306084/0c8fb/import-btn-env.webp 640w","/dep/static/58cdcc427f5d3e744a1836b23b306084/94b1e/import-btn-env.webp 1280w","/dep/static/58cdcc427f5d3e744a1836b23b306084/dd168/import-btn-env.webp 1467w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/dep/static/58cdcc427f5d3e744a1836b23b306084/dd4a7/import-btn-env.png 320w","/dep/static/58cdcc427f5d3e744a1836b23b306084/0f09e/import-btn-env.png 640w","/dep/static/58cdcc427f5d3e744a1836b23b306084/bbbf7/import-btn-env.png 1280w","/dep/static/58cdcc427f5d3e744a1836b23b306084/46731/import-btn-env.png 1467w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,p.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/dep/static/58cdcc427f5d3e744a1836b23b306084/bbbf7/import-btn-env.png",alt:"Postman Import Button",title:"Postman Import Button",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")))),(0,p.mdx)("br",null),(0,p.mdx)("ol",{start:2},(0,p.mdx)("li",{parentName:"ol"},(0,p.mdx)("p",{parentName:"li"},"A new window should open. Be sure to select the 'Raw text' option and then paste in the raw text you copied in the previous step. When done click ",(0,p.mdx)("inlineCode",{parentName:"p"},"Continue")," to load the collection"),(0,p.mdx)("p",{parentName:"li"},(0,p.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,p.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"65.625%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,p.mdx)("picture",{parentName:"span"},"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/dep/static/77855d5e09947650f405b6a60f9e6d6b/5530d/import-copy-ims.webp 320w","/dep/static/77855d5e09947650f405b6a60f9e6d6b/0c8fb/import-copy-ims.webp 640w","/dep/static/77855d5e09947650f405b6a60f9e6d6b/94b1e/import-copy-ims.webp 1280w","/dep/static/77855d5e09947650f405b6a60f9e6d6b/c3d33/import-copy-ims.webp 1457w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/dep/static/77855d5e09947650f405b6a60f9e6d6b/dd4a7/import-copy-ims.png 320w","/dep/static/77855d5e09947650f405b6a60f9e6d6b/0f09e/import-copy-ims.png 640w","/dep/static/77855d5e09947650f405b6a60f9e6d6b/bbbf7/import-copy-ims.png 1280w","/dep/static/77855d5e09947650f405b6a60f9e6d6b/b8d34/import-copy-ims.png 1457w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,p.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/dep/static/77855d5e09947650f405b6a60f9e6d6b/bbbf7/import-copy-ims.png",alt:"Paste Raw Text",title:"Paste Raw Text",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")))),(0,p.mdx)("br",null),(0,p.mdx)("ol",{start:3},(0,p.mdx)("li",{parentName:"ol"},(0,p.mdx)("p",{parentName:"li"},"On the next screen you will be presented with the details about the collection. Go ahead and click ",(0,p.mdx)("inlineCode",{parentName:"p"},"Import")),(0,p.mdx)("p",{parentName:"li"},(0,p.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,p.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"65.3125%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,p.mdx)("picture",{parentName:"span"},"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/dep/static/f0c518d10aedb07099a0766af269c1eb/5530d/import-create-ims.webp 320w","/dep/static/f0c518d10aedb07099a0766af269c1eb/0c8fb/import-create-ims.webp 640w","/dep/static/f0c518d10aedb07099a0766af269c1eb/94b1e/import-create-ims.webp 1280w","/dep/static/f0c518d10aedb07099a0766af269c1eb/a69b9/import-create-ims.webp 1460w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/dep/static/f0c518d10aedb07099a0766af269c1eb/dd4a7/import-create-ims.png 320w","/dep/static/f0c518d10aedb07099a0766af269c1eb/0f09e/import-create-ims.png 640w","/dep/static/f0c518d10aedb07099a0766af269c1eb/bbbf7/import-create-ims.png 1280w","/dep/static/f0c518d10aedb07099a0766af269c1eb/a2906/import-create-ims.png 1460w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,p.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/dep/static/f0c518d10aedb07099a0766af269c1eb/bbbf7/import-create-ims.png",alt:"Import IMS Collection",title:"Import IMS Collection",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")))),(0,p.mdx)("br",null),(0,p.mdx)("ol",{start:4},(0,p.mdx)("li",{parentName:"ol"},(0,p.mdx)("p",{parentName:"li"},"You should now see the collection in your Postman application. You can view it by simply selecting ",(0,p.mdx)("inlineCode",{parentName:"p"},"Collections")," in the sidebar and then clicking into the single request contained within the collection."),(0,p.mdx)("p",{parentName:"li"},(0,p.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,p.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"65.3125%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,p.mdx)("picture",{parentName:"span"},"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/dep/static/165018199063afc9a2257359ffa170c0/5530d/postman-ims-preview.webp 320w","/dep/static/165018199063afc9a2257359ffa170c0/0c8fb/postman-ims-preview.webp 640w","/dep/static/165018199063afc9a2257359ffa170c0/94b1e/postman-ims-preview.webp 1280w","/dep/static/165018199063afc9a2257359ffa170c0/f57db/postman-ims-preview.webp 1464w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/dep/static/165018199063afc9a2257359ffa170c0/dd4a7/postman-ims-preview.png 320w","/dep/static/165018199063afc9a2257359ffa170c0/0f09e/postman-ims-preview.png 640w","/dep/static/165018199063afc9a2257359ffa170c0/bbbf7/postman-ims-preview.png 1280w","/dep/static/165018199063afc9a2257359ffa170c0/5266f/postman-ims-preview.png 1464w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,p.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/dep/static/165018199063afc9a2257359ffa170c0/bbbf7/postman-ims-preview.png",alt:"Preview IMS Collection",title:"Preview IMS Collection",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")))),(0,p.mdx)("h2",{id:"generate-your-access-token"},"Generate your Access Token"),(0,p.mdx)("p",null,"Its time to test out your Postman setup to see if you can access the Experience Platform APIs via your developer project. Before you can go firing of your first call though we need to select the environment that Postman will use."),(0,p.mdx)("ol",null,(0,p.mdx)("li",{parentName:"ol"},(0,p.mdx)("p",{parentName:"li"},"In the upper right of the work area select your environment from the environment drop-down"),(0,p.mdx)("p",{parentName:"li"},(0,p.mdx)("img",{parentName:"p",src:"/dep/assets/b7f5a2356482e0e0c11d94de8dc34f41/postman-set-ims-env.gif",alt:"Set Postman Environment"}))),(0,p.mdx)("li",{parentName:"ol"},(0,p.mdx)("p",{parentName:"li"},"Navigate back to sidebar and select 'Collections' and then select the only call in the 'Identity Management Service' folder. Open the call and double check that variables in the 'Body' are populated.  If all is good then its time to make magic happen. Click ",(0,p.mdx)("inlineCode",{parentName:"p"},"Send"),"."),(0,p.mdx)("p",{parentName:"li"},(0,p.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,p.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"65.625%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,p.mdx)("picture",{parentName:"span"},"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/dep/static/055718ff03c7d7c6f30bf38ad3adde74/5530d/postman-ims-auth-censored.webp 320w","/dep/static/055718ff03c7d7c6f30bf38ad3adde74/0c8fb/postman-ims-auth-censored.webp 640w","/dep/static/055718ff03c7d7c6f30bf38ad3adde74/94b1e/postman-ims-auth-censored.webp 1280w","/dep/static/055718ff03c7d7c6f30bf38ad3adde74/dd168/postman-ims-auth-censored.webp 1467w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/dep/static/055718ff03c7d7c6f30bf38ad3adde74/dd4a7/postman-ims-auth-censored.png 320w","/dep/static/055718ff03c7d7c6f30bf38ad3adde74/0f09e/postman-ims-auth-censored.png 640w","/dep/static/055718ff03c7d7c6f30bf38ad3adde74/bbbf7/postman-ims-auth-censored.png 1280w","/dep/static/055718ff03c7d7c6f30bf38ad3adde74/46731/postman-ims-auth-censored.png 1467w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,p.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/dep/static/055718ff03c7d7c6f30bf38ad3adde74/bbbf7/postman-ims-auth-censored.png",alt:"Set Postman Environment",title:"Set Postman Environment",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")))),(0,p.mdx)("br",null),(0,p.mdx)("p",null,"The response from the request to Adobe's IMS will always respond with the following upon a successful call. If you see this awesome sauce!"),(0,p.mdx)("h4",{id:"success-1"},"Success"),(0,p.mdx)("pre",null,(0,p.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "token_type": "bearer",\n    "access_token": "<value>",\n    "expires_in": 86399979\n}\n')))}b.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-postman-authenticate-index-md-ed450de939424dddbd4e.js.map